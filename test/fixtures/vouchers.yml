# Read about fixtures at http://ar.rubyonrails.org/classes/Fixtures.html

<% one_year_from_now = (Time.now + 1.year).to_formatted_s(:db) %>
<% one_week_ago = (Time.now - 1.week).to_formatted_s(:db) %>
<% yesterday = (Time.now - 1.day).to_formatted_s(:db) %>

# subscription owned by tom
subscription:
  id: 3000
  vouchertype_id: 3
  customer_id: 77
  showdate_id: 0
  changeable: false

# type1 voucher owned by tom
tom_type1:
  id: 3001
  vouchertype_id: 1
  customer_id: 77
  showdate_id: 0
  valid_date: <%= one_week_ago %>
  expiration_date: <%= (Time.now - 10.minutes).to_formatted_s(:db)  %>
  changeable: true

tom_expired_voucher:
  id: 3020
  vouchertype_id: 1
  customer_id: 77
  showdate_id: 0
  valid_date: <%= one_week_ago %>
  expiration_date: <%= yesterday  %>
  changeable: true
  

# three type2 vouchers owned by tom
<% (1..3).each do |x| %>
tom_type2_<%= x %>:
  id: <%= 3010+x %>
  vouchertype_id: 2
  customer_id: 77
  showdate_id: 0
  changeable: true
  valid_date: <%= one_week_ago %>
  expiration_date: <%= one_year_from_now %>

<% end %>

# type1 voucher owned by tom3
tom3_type1:
  id: 4001
  vouchertype_id: 1
  customer_id: 79
  showdate_id: 0
  changeable: true
  valid_date: <%= one_week_ago %>
  expiration_date: <%= one_year_from_now %>
