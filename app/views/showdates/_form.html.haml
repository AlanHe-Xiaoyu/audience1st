= error_messages_for 'showdate', :header_message => default_validation_error_message
- show = @showdate.show
- args = {:start_year => show.opening_date.year, :end_year => show.closing_date.year, :minute_step => 15, :date => @showdate.thedate }
%table
  %tr
    %td
      %label{:for => :showdate_thedate} Date and time
    %td= parent_datetime_select 'showdate', 'thedate', 'showdate_end_advance_sales', args
  %tr
    %td
      %label{:for => :showdate_description} Description (optional)
    %td
      = text_field 'showdate', 'description', :size => 20
      = popup_help_for :show_or_showdate_description
  %tr
    %td 
      %label{:for => :showdate_end_advance_sales} Advance sales stop
    %td= child_datetime_select 'showdate', 'end_advance_sales', args
  %tr
    %td 
      %label{:for => :showdate_max_sales} Max advance sales
    %td
      = text_field 'showdate', 'max_sales', 'size' => 5
      = popup_help_for(:max_advance_sales)
      = hidden_field_tag "showdate[show_id]", @showdate.show.id

= gen_button  "Don't Save Changes", {:controller => 'shows', :action => 'edit', :id => @showdate.show.id }

<!--[eoform:showdate]-->

