%label{:for=>:referred_by_id} Referred by <span class="small">(cust ID)</small>
=text_field 'customer', 'referred_by_id', :size=>10, :id => 'referred_by_id'
%br/

%span#referred_by_name{:width=>"40ex"}= @customer.referred_by_name
%label{:for=>:referred_by_other} Referred by <span class="small">(other)</small>
=text_field 'customer', 'referred_by_other', :id => 'referred_by_other'
%br/
%br/

%fieldset#company_info
  %legend Company Information
  %label{:for=>:customer_company} Name
  =text_field 'customer', 'company'
  %br/
  %label{:for=>:customer_title} Position/Title
  =text_field 'customer', 'title'
  %br/
  %label{:for=>:customer_company_url} Website
  =text_field 'customer', 'company_url', :size => 25
  %br/
  
  %label{:for=>:customer_company_address_line_1} Address 1
  =text_field 'customer', 'company_address_line_1'
  %br/
  %label{:for=>:customer_street} Address 2
  =text_field 'customer', 'company_address_line_2'
  %br/
  %label{:for=>:customer_company_city} City
  =text_field 'customer', 'company_city', :size => 16, :max_length => 32
  %label.no_float{:for=>:customer_company_state} State
  =text_field 'customer', 'company_state', {:size => 2, :max_length => 2}
  %label.no_float{:for=>:customer_company_zip} Zip
  =text_field 'customer', 'company_zip', {:size => 10, :max_length => 10}
  %br/
  
%label{:for=>:customer_cell_phone} Cell phone
=text_field 'customer', 'work_fax', :size => 16, :max_length => 16  
%br/
%label{:for=>:customer_work_phone} Work phone
=text_field 'customer', 'work_phone', :size => 16, :max_length => 16  
%br/
%label{:for=>:customer_work_fax} Work fax
=text_field 'customer', 'work_fax', :size => 16, :max_length => 16  
%br/

%label{:for=>:customer_best_way_to_contact} Best Way to Contact
=text_area 'customer', 'best_way_to_contact', {:cols => 50, :rows => 2}
%br/

= observe_field('referred_by_id',:update => 'referred_by_name', :with => 'id', :url => customer_lookup_path)

/[eoform:customer]
