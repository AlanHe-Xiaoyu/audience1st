- if @next_showdate.kind_of?(Showdate)
  .pageDiv#advance_sales_report
    %h1 Advance Sales Reports
    = form_tag advance_sales_reports_path, :method => :get do
      %p 
        (Shift-click to select multiple productions)
        %br
        = select_tag('shows', |
          options_from_collection_for_select(@all_shows, :id, :name_with_run_dates_short, @next_showdate.show.id), :multiple => true) 
        = submit_tag 'Go', :id => 'advance_sales'

    = form_tag unfulfilled_orders_reports_path, :method => :get do
      %p 
        Show orders needing fulfillment as of today
        (usually means mailing something to customer).
        = submit_tag 'Generate Listing'

.pageDiv#transactions_report
  = form_tag report_orders_path, :method => :get do
    %h1 Transaction (Order) Details Report
    %label Select Dates
    = select_date_with_shortcuts 'report_dates', :from => @from, :to => @to
    = popup_help_for 'select_dates'
    %br
    %label &nbsp;
    = submit_tag 'Display on Screen'
    = submit_tag 'Download as Excel'

.pageDiv#retail_report
  = form_tag retail_reports_path, :method => :get do
    %h1 Retail Sales (Non-ticket products) Report
    %label Select Dates
    = select_date_with_shortcuts 'report_dates', :from => @from, :to => @to
    = popup_help_for 'select_dates'
    %br
    %label &nbsp;
    = submit_tag 'Display on Screen'
    = submit_tag 'Download as Excel'
  
- if nil && (Voucher.count > 0 || Donation.count > 0)
  .pageDiv#accounting_reports
    %h1 Accounting/Financial Reports
    = form_tag do_report_reports_path, {:method => :get} do
      %label Select Dates
      = select_date_with_shortcuts 'report_dates', :from => @from, :to => @to
      = popup_help_for 'select_dates'
      %br
      %label{:for => 'rep'} Report type
      = select_tag 'rep', options_for_select(["Transaction details", "Earned Revenue", "Retail Sales"])
      %br
      %label{:for => 'account_codes'} Include account codes
      = select_tag 'account_codes', options_from_collection_for_select(AccountCode.all, :id, :name_with_code, Proc.new { |n| true }), :multiple => true
      %br
      %label &nbsp;
      = submit_tag 'Display report'

.pageDiv#customer_lists
  %h1 Customer Lists
  = select_tag 'special_report_name', options_for_select(@special_report_names, :selected => 'Select report...'), 'data-submit' => attendance_reports_path
  #report_body

.pageDiv#subscription_counts
  %h1
    Subscription Counts for
    - y = Time.this_season
    = select_tag('year', options_for_seasons(y-5, y+1), :onchange => "\$('#subscriber_stats').load('#{subscriber_details_reports_path}', 'id=' + \$('#year').val())" )
  #subscriber_stats= render :partial => 'subscriptions', :object => @subscriptions, :locals => {:year => y} 

